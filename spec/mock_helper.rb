module MockHelper
  def mock_authentication
    resp_arr = build_resp_mock_array "200", "OK", 
      "SID=DQAAAHgAAAAPNCL6mdI-GHhLWNxobTWfGwlWtFFVjZDatJrrcdx6UxlaP4WCll4yj0c_"+
      "JEHcEp6RhracBN5ZYLhtmwpOgzMy4FlpJnNTuBAYwaraMmYdGIHBTqQKlOXTFHj-_igz9bF5v"+
      "VaTOKM1r4VC4DOVadpad81CH86sWw6rzjNbRluYiw\nLSID=DQAAAHsAAABUvbolIC84hXe4_"+
      "1zu17gr4ZkReQJvsnWyI5Ntivn4VfNaXClPbafabGnT11_gWOahnzmYL0YubbAlos6pghoXwVp"+
      "68RswbHlWMj3mC0e5UnqpHBZmUkljb5FXjt-XfhRAYkGjxB1LqPre3wcAPSWaoB-nJjoRS2yI6"+
      "lHoqDTjWA\nAuth="+
      "DQAAAHsAAAAdMyvdNfPg_iTFD-T_u6bBb-9BegOP7CGWnjah7FCJvnu8aiOoHXJMAJ-6HS_8vOE"+
      "2zFLXaSzp3oe4mB9lJexTpxxM-CmChSTs-9OBd6nAwNji5yWnLUFv_Q7-ibXMx7820aFdnU7mr6"+
      "qqvHUhXESdhBEnD1QP_o8dqsP-6T-oig"
    
    Picasa::HTTP::Authentication.stub!(:authenticate).and_return(resp_arr)
  end
  
  def mock_upgrade_token
    resp_arr = build_resp_mock_array "200", "OK", "Token=1/MvwjJQR3B7q0170r4LGizBSyf93Q_C_44r6-25lj_iE"
    Picasa::HTTP::Authentication.stub!(:upgrade_token).and_return(resp_arr)
  end
  
  def mock_upgrade_token_failure
    resp_arr = build_resp_mock_array "403", "Invalid AuthSub token", 
      "<HTML>\n<HEAD>\n<TITLE>Invalid AuthSub token.</TITLE>\n</HEAD>\n<BODY BGCOLOR=\"#FFFFFF\" TEXT=\"#000000\">\n<H1>Invalid AuthSub token.</H1>\n<H2>Error 403</H2>\n</BODY>\n</HTML>\n"
    Picasa::HTTP::Authentication.stub!(:upgrade_token).and_return(resp_arr)
  end
  
  def mock_authentication_failure
    resp_arr = build_resp_mock_array "403", "Forbidden", "Error=BadAuthentication\n"
    Picasa::HTTP::Authentication.stub!(:authenticate).and_return(resp_arr)
  end
  
  def mock_post_album
    resp_arr = build_resp_mock_array "201", "Created", 
      "<?xml version='1.0' encoding='UTF-8'?><entry xmlns='http://www.w3.org/2005/Atom' xmlns:gphoto='http://schemas.google.com/photos/2007' xmlns:media='http://search.yahoo.com/mrss/'><id>http://picasaweb.google.com/data/entry/api/user/bandmanagertest/albumid/5523564086023148881</id><published>2010-10-02T21:29:41.000Z</published><updated>2010-10-02T21:29:41.409Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/photos/2007#album'/><title type='text'>testing title</title><summary type='text'>testing summary</summary><rights type='text'>public</rights><link rel='http://schemas.google.com/g/2005#feed' type='application/atom+xml' href='http://picasaweb.google.com/data/feed/api/user/bandmanagertest/albumid/5523564086023148881'/><link rel='alternate' type='text/html' href='http://picasaweb.google.com/bandmanagertest/TestingTitle'/><link rel='self' type='application/atom+xml' href='http://picasaweb.google.com/data/entry/api/user/bandmanagertest/albumid/5523564086023148881'/><link rel='edit' type='application/atom+xml' href='http://picasaweb.google.com/data/entry/api/user/bandmanagertest/albumid/5523564086023148881/1'/><link rel='http://schemas.google.com/acl/2007#accessControlList' type='application/atom+xml' href='http://picasaweb.google.com/data/entry/api/user/bandmanagertest/albumid/5523564086023148881/acl'/><author><name>BandManager Test</name><uri>http://picasaweb.google.com/bandmanagertest</uri></author><gphoto:id>5523564086023148881</gphoto:id><gphoto:name>TestingTitle</gphoto:name><gphoto:location>testing location</gphoto:location><gphoto:access>public</gphoto:access><gphoto:timestamp>1286054981000</gphoto:timestamp><gphoto:numphotos>0</gphoto:numphotos><gphoto:numphotosremaining>1000</gphoto:numphotosremaining><gphoto:bytesUsed>0</gphoto:bytesUsed><gphoto:user>bandmanagertest</gphoto:user><gphoto:nickname>BandManager Test</gphoto:nickname><gphoto:commentingEnabled>true</gphoto:commentingEnabled><gphoto:commentCount>0</gphoto:commentCount><media:group><media:content url='http://lh3.ggpht.com/_Eo7DPaDqPZg/TKekRWmD1VE/AAAAAAAAAxw/uc_G0pxsLb4/TestingTitle.jpg' type='image/jpeg' medium='image'/><media:credit>BandManager Test</media:credit><media:description type='plain'>testing summary</media:description><media:keywords/><media:thumbnail url='http://lh3.ggpht.com/_Eo7DPaDqPZg/TKekRWmD1VE/AAAAAAAAAxw/uc_G0pxsLb4/s160-c/TestingTitle.jpg' height='160' width='160'/><media:title type='plain'>testing title</media:title></media:group></entry>"
    
    Picasa::HTTP::Album.stub!(:post_album).and_return(resp_arr)
  end
  
  def mock_get_album
    resp_arr = build_resp_mock_array "200", "OK", 
      "<?xml version='1.0' encoding='UTF-8'?><entry xmlns='http://www.w3.org/2005/Atom' xmlns:gphoto='http://schemas.google.com/photos/2007' xmlns:media='http://search.yahoo.com/mrss/'><id>http://picasaweb.google.com/data/entry/api/user/bandmanagertest/albumid/5523564086023148881</id><published>2010-10-02T21:29:41.000Z</published><updated>2010-10-02T21:29:41.409Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/photos/2007#album'/><title type='text'>testing title</title><summary type='text'>testing summary</summary><rights type='text'>public</rights><link rel='http://schemas.google.com/g/2005#feed' type='application/atom+xml' href='http://picasaweb.google.com/data/feed/api/user/bandmanagertest/albumid/5523564086023148881'/><link rel='alternate' type='text/html' href='http://picasaweb.google.com/bandmanagertest/TestingTitle'/><link rel='self' type='application/atom+xml' href='http://picasaweb.google.com/data/entry/api/user/bandmanagertest/albumid/5523564086023148881'/><link rel='edit' type='application/atom+xml' href='http://picasaweb.google.com/data/entry/api/user/bandmanagertest/albumid/5523564086023148881/1'/><link rel='http://schemas.google.com/acl/2007#accessControlList' type='application/atom+xml' href='http://picasaweb.google.com/data/entry/api/user/bandmanagertest/albumid/5523564086023148881/acl'/><author><name>BandManager Test</name><uri>http://picasaweb.google.com/bandmanagertest</uri></author><gphoto:id>5523564086023148881</gphoto:id><gphoto:name>TestingTitle</gphoto:name><gphoto:location>testing location</gphoto:location><gphoto:access>public</gphoto:access><gphoto:timestamp>1286054981000</gphoto:timestamp><gphoto:numphotos>0</gphoto:numphotos><gphoto:numphotosremaining>1000</gphoto:numphotosremaining><gphoto:bytesUsed>0</gphoto:bytesUsed><gphoto:user>bandmanagertest</gphoto:user><gphoto:nickname>BandManager Test</gphoto:nickname><gphoto:commentingEnabled>true</gphoto:commentingEnabled><gphoto:commentCount>0</gphoto:commentCount><media:group><media:content url='http://lh3.ggpht.com/_Eo7DPaDqPZg/TKekRWmD1VE/AAAAAAAAAxw/uc_G0pxsLb4/TestingTitle.jpg' type='image/jpeg' medium='image'/><media:credit>BandManager Test</media:credit><media:description type='plain'>testing summary</media:description><media:keywords/><media:thumbnail url='http://lh3.ggpht.com/_Eo7DPaDqPZg/TKekRWmD1VE/AAAAAAAAAxw/uc_G0pxsLb4/s160-c/TestingTitle.jpg' height='160' width='160'/><media:title type='plain'>testing title</media:title></media:group></entry>"
    
    Picasa::HTTP::Album.stub!(:get_album).and_return(resp_arr)
  end

  def mock_get_albums
    resp_arr = build_resp_mock_array "200", "OK", 
      "<?xml version='1.0' encoding='UTF-8'?><feed xmlns='http://www.w3.org/2005/Atom' xmlns:gphoto='http://schemas.google.com/photos/2007' xmlns:media='http://search.yahoo.com/mrss/' xmlns:openSearch='http://a9.com/-/spec/opensearchrss/1.0/'><id>http://picasaweb.google.com/data/feed/api/user/bandmanagertest</id><updated>2010-10-05T00:37:00.546Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/photos/2007#user'/><title type='text'>bandmanagertest</title><subtitle type='text'/><icon>http://www.google.com/profiles/c/u/0/static/images/NoPicture.gif?sz=64</icon><link rel='http://schemas.google.com/g/2005#feed' type='application/atom+xml' href='http://picasaweb.google.com/data/feed/api/user/bandmanagertest'/><link rel='http://schemas.google.com/g/2005#post' type='application/atom+xml' href='http://picasaweb.google.com/data/feed/api/user/bandmanagertest'/><link rel='alternate' type='text/html' href='http://picasaweb.google.com/bandmanagertest'/><link rel='http://schemas.google.com/photos/2007#slideshow' type='application/x-shockwave-flash' href='http://picasaweb.google.com/s/c/bin/slideshow.swf?host=picasaweb.google.com&amp;RGB=0x000000&amp;feed=http%3A%2F%2Fpicasaweb.google.com%2Fdata%2Ffeed%2Fapi%2Fuser%2Fbandmanagertest%3Falt%3Drss'/><link rel='self' type='application/atom+xml' href='http://picasaweb.google.com/data/feed/api/user/bandmanagertest?start-index=1&amp;max-results=1000'/><author><name>BandManager Test</name><uri>http://picasaweb.google.com/bandmanagertest</uri></author><generator version='1.00' uri='http://picasaweb.google.com/'>Picasaweb</generator><openSearch:totalResults>1</openSearch:totalResults><openSearch:startIndex>1</openSearch:startIndex><openSearch:itemsPerPage>1000</openSearch:itemsPerPage><gphoto:user>bandmanagertest</gphoto:user><gphoto:nickname>BandManager Test</gphoto:nickname><gphoto:thumbnail>http://www.google.com/profiles/c/u/0/static/images/NoPicture.gif?sz=64</gphoto:thumbnail><gphoto:quotalimit>1073741824</gphoto:quotalimit><gphoto:quotacurrent>0</gphoto:quotacurrent><gphoto:maxPhotosPerAlbum>1000</gphoto:maxPhotosPerAlbum><entry><id>http://picasaweb.google.com/data/entry/api/user/bandmanagertest/albumid/5524354526820046433</id><published>2010-10-05T00:36:59.000Z</published><updated>2010-10-05T00:37:00.546Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/photos/2007#album'/><title type='text'>testing title</title><summary type='text'>testing summary</summary><rights type='text'>public</rights><link rel='http://schemas.google.com/g/2005#feed' type='application/atom+xml' href='http://picasaweb.google.com/data/feed/api/user/bandmanagertest/albumid/5524354526820046433'/><link rel='alternate' type='text/html' href='http://picasaweb.google.com/bandmanagertest/TestingTitle'/><link rel='self' type='application/atom+xml' href='http://picasaweb.google.com/data/entry/api/user/bandmanagertest/albumid/5524354526820046433'/><link rel='edit' type='application/atom+xml' href='http://picasaweb.google.com/data/entry/api/user/bandmanagertest/albumid/5524354526820046433/1'/><link rel='http://schemas.google.com/acl/2007#accessControlList' type='application/atom+xml' href='http://picasaweb.google.com/data/entry/api/user/bandmanagertest/albumid/5524354526820046433/acl'/><author><name>BandManager Test</name><uri>http://picasaweb.google.com/bandmanagertest</uri></author><gphoto:id>5524354526820046433</gphoto:id><gphoto:name>TestingTitle</gphoto:name><gphoto:location>testing location</gphoto:location><gphoto:access>public</gphoto:access><gphoto:timestamp>1286239019000</gphoto:timestamp><gphoto:numphotos>0</gphoto:numphotos><gphoto:numphotosremaining>1000</gphoto:numphotosremaining><gphoto:bytesUsed>0</gphoto:bytesUsed><gphoto:user>bandmanagertest</gphoto:user><gphoto:nickname>BandManager Test</gphoto:nickname><gphoto:commentingEnabled>true</gphoto:commentingEnabled><gphoto:commentCount>0</gphoto:commentCount><media:group><media:content url='http://lh4.ggpht.com/_Eo7DPaDqPZg/TKpzLEBuFmE/AAAAAAAAA7A/tqUs5ChhYiI/TestingTitle.jpg' type='image/jpeg' medium='image'/><media:credit>BandManager Test</media:credit><media:description type='plain'>testing summary</media:description><media:keywords/><media:thumbnail url='http://lh4.ggpht.com/_Eo7DPaDqPZg/TKpzLEBuFmE/AAAAAAAAA7A/tqUs5ChhYiI/s160-c/TestingTitle.jpg' height='160' width='160'/><media:title type='plain'>testing title</media:title></media:group></entry></feed>"
    
    Picasa::HTTP::Album.stub!(:get_albums).and_return(resp_arr)
  end
  
  def mock_get_album_failure
    resp_arr = build_resp_mock_array "404", "NotFound", "Error=NotFound\n", false
    Picasa::HTTP::Album.stub!(:get_album).and_return(resp_arr)
  end
  
  def mock_update_album params = {}
    resp_arr = build_resp_mock_array "200", "OK", 
      "<?xml version='1.0' encoding='UTF-8'?><entry xmlns='http://www.w3.org/2005/Atom' xmlns:gphoto='http://schemas.google.com/photos/2007' xmlns:media='http://search.yahoo.com/mrss/'><id>http://picasaweb.google.com/data/entry/api/user/bandmanagertest/albumid/5523564086023148881</id><published>2010-10-02T21:29:41.000Z</published><updated>2010-10-02T21:29:41.409Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/photos/2007#album'/><title type='text'>#{params[:title]}</title><summary type='text'>#{params[:summary]}</summary><rights type='text'>public</rights><link rel='http://schemas.google.com/g/2005#feed' type='application/atom+xml' href='http://picasaweb.google.com/data/feed/api/user/bandmanagertest/albumid/5523564086023148881'/><link rel='alternate' type='text/html' href='http://picasaweb.google.com/bandmanagertest/TestingTitle'/><link rel='self' type='application/atom+xml' href='http://picasaweb.google.com/data/entry/api/user/bandmanagertest/albumid/5523564086023148881'/><link rel='edit' type='application/atom+xml' href='http://picasaweb.google.com/data/entry/api/user/bandmanagertest/albumid/5523564086023148881/1'/><link rel='http://schemas.google.com/acl/2007#accessControlList' type='application/atom+xml' href='http://picasaweb.google.com/data/entry/api/user/bandmanagertest/albumid/5523564086023148881/acl'/><author><name>BandManager Test</name><uri>http://picasaweb.google.com/bandmanagertest</uri></author><gphoto:id>5523564086023148881</gphoto:id><gphoto:name>TestingTitle</gphoto:name><gphoto:location>#{params[:location]}</gphoto:location><gphoto:access>#{params[:access]}</gphoto:access><gphoto:timestamp>1286054981000</gphoto:timestamp><gphoto:numphotos>0</gphoto:numphotos><gphoto:numphotosremaining>1000</gphoto:numphotosremaining><gphoto:bytesUsed>0</gphoto:bytesUsed><gphoto:user>bandmanagertest</gphoto:user><gphoto:nickname>BandManager Test</gphoto:nickname><gphoto:commentingEnabled>true</gphoto:commentingEnabled><gphoto:commentCount>0</gphoto:commentCount><media:group><media:content url='http://lh3.ggpht.com/_Eo7DPaDqPZg/TKekRWmD1VE/AAAAAAAAAxw/uc_G0pxsLb4/TestingTitle.jpg' type='image/jpeg' medium='image'/><media:credit>BandManager Test</media:credit><media:description type='plain'>testing summary</media:description><media:keywords/><media:thumbnail url='http://lh3.ggpht.com/_Eo7DPaDqPZg/TKekRWmD1VE/AAAAAAAAAxw/uc_G0pxsLb4/s160-c/TestingTitle.jpg' height='160' width='160'/><media:title type='plain'>testing title</media:title></media:group></entry>"
    
    Picasa::HTTP::Album.stub!(:update_album).and_return(resp_arr)
  end
  
  def mock_delete_album
    resp_arr = build_resp_mock_array "200", "OK", ""  
    Picasa::HTTP::Album.stub!(:delete_album).and_return(resp_arr)
  end
  
  def mock_post_photo
    resp_arr = build_resp_mock_array "201", "Created", 
      "<?xml version='1.0' encoding='UTF-8'?><entry xmlns='http://www.w3.org/2005/Atom' xmlns:exif='http://schemas.google.com/photos/exif/2007' xmlns:gphoto='http://schemas.google.com/photos/2007' xmlns:media='http://search.yahoo.com/mrss/'><id>http://picasaweb.google.com/data/entry/api/user/bandmanagertest/albumid/5526116602627358369/photoid/5526116634788894258</id><published>2010-10-09T18:34:52.000Z</published><updated>2010-10-09T18:34:52.144Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/photos/2007#photo'/><title type='text'>photo.jpg</title><summary type='text'>Summary</summary><content type='image/jpeg' src='http://lh5.ggpht.com/_Eo7DPaDqPZg/TLC1zPv4FjI/AAAAAAAABPI/pHeMtRZlR38/photo.jpg'/><link rel='http://schemas.google.com/g/2005#feed' type='application/atom+xml' href='http://picasaweb.google.com/data/feed/api/user/bandmanagertest/albumid/5526116602627358369/photoid/5526116634788894258'/><link rel='alternate' type='text/html' href='http://picasaweb.google.com/bandmanagertest/TestingTitle#5526116634788894258'/><link rel='http://schemas.google.com/photos/2007#canonical' type='text/html' href='http://picasaweb.google.com/lh/photo/RQzOtdWIzuC4uSDK8LaGqg'/><link rel='self' type='application/atom+xml' href='http://picasaweb.google.com/data/entry/api/user/bandmanagertest/albumid/5526116602627358369/photoid/5526116634788894258'/><link rel='edit' type='application/atom+xml' href='http://picasaweb.google.com/data/entry/api/user/bandmanagertest/albumid/5526116602627358369/photoid/5526116634788894258/1'/><link rel='edit-media' type='image/jpeg' href='http://picasaweb.google.com/data/media/api/user/bandmanagertest/albumid/5526116602627358369/photoid/5526116634788894258/1'/><link rel='media-edit' type='image/jpeg' href='http://picasaweb.google.com/data/media/api/user/bandmanagertest/albumid/5526116602627358369/photoid/5526116634788894258/1'/><link rel='http://schemas.google.com/photos/2007#report' type='text/html' href='http://picasaweb.google.com/lh/reportAbuse?uname=bandmanagertest&amp;aid=5526116602627358369&amp;iid=5526116634788894258'/><gphoto:id>5526116634788894258</gphoto:id><gphoto:version>1</gphoto:version><gphoto:albumid>5526116602627358369</gphoto:albumid><gphoto:access>public</gphoto:access><gphoto:width>1181</gphoto:width><gphoto:height>1181</gphoto:height><gphoto:size>478571</gphoto:size><gphoto:client/><gphoto:checksum/><gphoto:timestamp>1286649292000</gphoto:timestamp><gphoto:imageVersion>1266</gphoto:imageVersion><gphoto:commentingEnabled>true</gphoto:commentingEnabled><gphoto:commentCount>0</gphoto:commentCount><gphoto:license id='0' name='Todos os direitos reservados' url=''>ALL_RIGHTS_RESERVED</gphoto:license><exif:tags><exif:imageUniqueID>6399838eaf33d21d08f4ce94187b653e</exif:imageUniqueID></exif:tags><media:group><media:content url='http://lh5.ggpht.com/_Eo7DPaDqPZg/TLC1zPv4FjI/AAAAAAAABPI/pHeMtRZlR38/photo.jpg' height='1181' width='1181' type='image/jpeg' medium='image'/><media:credit>BandManager Test</media:credit><media:description type='plain'>Summary</media:description><media:keywords/><media:thumbnail url='http://lh5.ggpht.com/_Eo7DPaDqPZg/TLC1zPv4FjI/AAAAAAAABPI/pHeMtRZlR38/s72/photo.jpg' height='72' width='72'/><media:thumbnail url='http://lh5.ggpht.com/_Eo7DPaDqPZg/TLC1zPv4FjI/AAAAAAAABPI/pHeMtRZlR38/s144/photo.jpg' height='144' width='144'/><media:thumbnail url='http://lh5.ggpht.com/_Eo7DPaDqPZg/TLC1zPv4FjI/AAAAAAAABPI/pHeMtRZlR38/s288/photo.jpg' height='288' width='288'/><media:title type='plain'>photo.jpg</media:title></media:group></entry>"
    
    Picasa::HTTP::Photo.stub!(:post_photo).and_return(resp_arr)
  end
  
  def mock_get_photo
    resp_arr = build_resp_mock_array "200", "OK", 
      "<?xml version='1.0' encoding='UTF-8'?><entry xmlns='http://www.w3.org/2005/Atom' xmlns:exif='http://schemas.google.com/photos/exif/2007' xmlns:gphoto='http://schemas.google.com/photos/2007' xmlns:media='http://search.yahoo.com/mrss/'><id>http://picasaweb.google.com/data/entry/api/user/bandmanagertest/albumid/5526116602627358369/photoid/5526116634788894258</id><published>2010-10-09T18:34:52.000Z</published><updated>2010-10-09T18:34:52.144Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/photos/2007#photo'/><title type='text'>photo.jpg</title><summary type='text'>Summary</summary><content type='image/jpeg' src='http://lh5.ggpht.com/_Eo7DPaDqPZg/TLC1zPv4FjI/AAAAAAAABPI/pHeMtRZlR38/photo.jpg'/><link rel='http://schemas.google.com/g/2005#feed' type='application/atom+xml' href='http://picasaweb.google.com/data/feed/api/user/bandmanagertest/albumid/5526116602627358369/photoid/5526116634788894258'/><link rel='alternate' type='text/html' href='http://picasaweb.google.com/bandmanagertest/TestingTitle#5526116634788894258'/><link rel='http://schemas.google.com/photos/2007#canonical' type='text/html' href='http://picasaweb.google.com/lh/photo/RQzOtdWIzuC4uSDK8LaGqg'/><link rel='self' type='application/atom+xml' href='http://picasaweb.google.com/data/entry/api/user/bandmanagertest/albumid/5526116602627358369/photoid/5526116634788894258'/><link rel='edit' type='application/atom+xml' href='http://picasaweb.google.com/data/entry/api/user/bandmanagertest/albumid/5526116602627358369/photoid/5526116634788894258/1'/><link rel='edit-media' type='image/jpeg' href='http://picasaweb.google.com/data/media/api/user/bandmanagertest/albumid/5526116602627358369/photoid/5526116634788894258/1'/><link rel='media-edit' type='image/jpeg' href='http://picasaweb.google.com/data/media/api/user/bandmanagertest/albumid/5526116602627358369/photoid/5526116634788894258/1'/><link rel='http://schemas.google.com/photos/2007#report' type='text/html' href='http://picasaweb.google.com/lh/reportAbuse?uname=bandmanagertest&amp;aid=5526116602627358369&amp;iid=5526116634788894258'/><gphoto:id>5526116634788894258</gphoto:id><gphoto:version>1</gphoto:version><gphoto:albumid>5526116602627358369</gphoto:albumid><gphoto:access>public</gphoto:access><gphoto:width>1181</gphoto:width><gphoto:height>1181</gphoto:height><gphoto:size>478571</gphoto:size><gphoto:client/><gphoto:checksum/><gphoto:timestamp>1286649292000</gphoto:timestamp><gphoto:imageVersion>1266</gphoto:imageVersion><gphoto:commentingEnabled>true</gphoto:commentingEnabled><gphoto:commentCount>0</gphoto:commentCount><gphoto:license id='0' name='Todos os direitos reservados' url=''>ALL_RIGHTS_RESERVED</gphoto:license><exif:tags><exif:imageUniqueID>6399838eaf33d21d08f4ce94187b653e</exif:imageUniqueID></exif:tags><media:group><media:content url='http://lh5.ggpht.com/_Eo7DPaDqPZg/TLC1zPv4FjI/AAAAAAAABPI/pHeMtRZlR38/photo.jpg' height='1181' width='1181' type='image/jpeg' medium='image'/><media:credit>BandManager Test</media:credit><media:description type='plain'>Summary</media:description><media:keywords/><media:thumbnail url='http://lh5.ggpht.com/_Eo7DPaDqPZg/TLC1zPv4FjI/AAAAAAAABPI/pHeMtRZlR38/s72/photo.jpg' height='72' width='72'/><media:thumbnail url='http://lh5.ggpht.com/_Eo7DPaDqPZg/TLC1zPv4FjI/AAAAAAAABPI/pHeMtRZlR38/s144/photo.jpg' height='144' width='144'/><media:thumbnail url='http://lh5.ggpht.com/_Eo7DPaDqPZg/TLC1zPv4FjI/AAAAAAAABPI/pHeMtRZlR38/s288/photo.jpg' height='288' width='288'/><media:title type='plain'>photo.jpg</media:title></media:group></entry>"
    
    Picasa::HTTP::Photo.stub!(:get_photo).and_return(resp_arr)
  end
  
  def mock_get_photos
    resp_arr = build_resp_mock_array "200", "OK", 
      "<?xml version='1.0' encoding='UTF-8'?><feed xmlns='http://www.w3.org/2005/Atom' xmlns:exif='http://schemas.google.com/photos/exif/2007' xmlns:gphoto='http://schemas.google.com/photos/2007' xmlns:media='http://search.yahoo.com/mrss/' xmlns:openSearch='http://a9.com/-/spec/opensearchrss/1.0/' xmlns:gml='http://www.opengis.net/gml' xmlns:georss='http://www.georss.org/georss'><id>http://picasaweb.google.com/data/feed/api/user/bandmanagertest/albumid/5526402047218418305</id><updated>2010-10-10T13:02:37.228Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/photos/2007#album'/><title type='text'>Album Title</title><subtitle type='text'>Album Summary</subtitle><rights type='text'>public</rights><icon>http://lh4.ggpht.com/_Eo7DPaDqPZg/TLG5Yb5yAoE/AAAAAAAABXw/rw9L5Y3wzx4/s160-c/AlbumTitle31.jpg</icon><link rel='http://schemas.google.com/g/2005#feed' type='application/atom+xml' href='http://picasaweb.google.com/data/feed/api/user/bandmanagertest/albumid/5526402047218418305'/><link rel='alternate' type='text/html' href='http://picasaweb.google.com/bandmanagertest/AlbumTitle31'/><link rel='http://schemas.google.com/photos/2007#slideshow' type='application/x-shockwave-flash' href='http://picasaweb.google.com/s/c/bin/slideshow.swf?host=picasaweb.google.com&amp;RGB=0x000000&amp;feed=http%3A%2F%2Fpicasaweb.google.com%2Fdata%2Ffeed%2Fapi%2Fuser%2Fbandmanagertest%2Falbumid%2F5526402047218418305%3Falt%3Drss'/><link rel='http://schemas.google.com/photos/2007#report' type='text/html' href='http://picasaweb.google.com/lh/reportAbuse?uname=bandmanagertest&amp;aid=5526402047218418305'/><link rel='self' type='application/atom+xml' href='http://picasaweb.google.com/data/feed/api/user/bandmanagertest/albumid/5526402047218418305?start-index=1&amp;max-results=1000'/><author><name>BandManager Test</name><uri>http://picasaweb.google.com/bandmanagertest</uri></author><generator version='1.00' uri='http://picasaweb.google.com/'>Picasaweb</generator><openSearch:totalResults>1</openSearch:totalResults><openSearch:startIndex>1</openSearch:startIndex><openSearch:itemsPerPage>1000</openSearch:itemsPerPage><gphoto:id>5526402047218418305</gphoto:id><gphoto:name>AlbumTitle31</gphoto:name><gphoto:location>Album location</gphoto:location><gphoto:access>public</gphoto:access><gphoto:timestamp>1286715744000</gphoto:timestamp><gphoto:numphotos>1</gphoto:numphotos><gphoto:user>bandmanagertest</gphoto:user><gphoto:nickname>BandManager Test</gphoto:nickname><gphoto:commentingEnabled>true</gphoto:commentingEnabled><gphoto:commentCount>0</gphoto:commentCount><georss:where><gml:Point><gml:pos>31.755058 -106.34164</gml:pos></gml:Point></georss:where><gphoto:allowPrints>true</gphoto:allowPrints><gphoto:allowDownloads>true</gphoto:allowDownloads><entry><id>http://picasaweb.google.com/data/entry/api/user/bandmanagertest/albumid/5526402047218418305/photoid/5526402097573142018</id><published>2010-10-10T13:02:37.000Z</published><updated>2010-10-10T13:02:37.228Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/photos/2007#photo'/><title type='text'>photo.jpg</title><summary type='text'>Photo summary</summary><content type='image/jpeg' src='http://lh5.ggpht.com/_Eo7DPaDqPZg/TLG5bXfSHgI/AAAAAAAABXw/CsjARgrA690/photo.jpg'/><link rel='http://schemas.google.com/g/2005#feed' type='application/atom+xml' href='http://picasaweb.google.com/data/feed/api/user/bandmanagertest/albumid/5526402047218418305/photoid/5526402097573142018'/><link rel='alternate' type='text/html' href='http://picasaweb.google.com/bandmanagertest/AlbumTitle31#5526402097573142018'/><link rel='http://schemas.google.com/photos/2007#canonical' type='text/html' href='http://picasaweb.google.com/lh/photo/rp2tDj2g7taBS5tH05Qe2A'/><link rel='self' type='application/atom+xml' href='http://picasaweb.google.com/data/entry/api/user/bandmanagertest/albumid/5526402047218418305/photoid/5526402097573142018'/><link rel='http://schemas.google.com/photos/2007#report' type='text/html' href='http://picasaweb.google.com/lh/reportAbuse?uname=bandmanagertest&amp;aid=5526402047218418305&amp;iid=5526402097573142018'/><gphoto:id>5526402097573142018</gphoto:id><gphoto:version>1</gphoto:version><gphoto:position>1.0</gphoto:position><gphoto:albumid>5526402047218418305</gphoto:albumid><gphoto:access>public</gphoto:access><gphoto:width>1181</gphoto:width><gphoto:height>1181</gphoto:height><gphoto:size>478571</gphoto:size><gphoto:client/><gphoto:checksum/><gphoto:timestamp>1286715757000</gphoto:timestamp><gphoto:imageVersion>1404</gphoto:imageVersion><gphoto:commentCount>0</gphoto:commentCount><gphoto:license id='0' name='All Rights Reserved' url=''>ALL_RIGHTS_RESERVED</gphoto:license><exif:tags><exif:imageUniqueID>6399838eaf33d21d08f4ce94187b653e</exif:imageUniqueID></exif:tags><media:group><media:content url='http://lh5.ggpht.com/_Eo7DPaDqPZg/TLG5bXfSHgI/AAAAAAAABXw/CsjARgrA690/photo.jpg' height='1181' width='1181' type='image/jpeg' medium='image'/><media:credit>BandManager Test</media:credit><media:description type='plain'>Photo summary</media:description><media:keywords/><media:thumbnail url='http://lh5.ggpht.com/_Eo7DPaDqPZg/TLG5bXfSHgI/AAAAAAAABXw/CsjARgrA690/s72/photo.jpg' height='72' width='72'/><media:thumbnail url='http://lh5.ggpht.com/_Eo7DPaDqPZg/TLG5bXfSHgI/AAAAAAAABXw/CsjARgrA690/s144/photo.jpg' height='144' width='144'/><media:thumbnail url='http://lh5.ggpht.com/_Eo7DPaDqPZg/TLG5bXfSHgI/AAAAAAAABXw/CsjARgrA690/s288/photo.jpg' height='288' width='288'/><media:title type='plain'>photo.jpg</media:title></media:group></entry></feed>"
    
    Picasa::HTTP::Photo.stub!(:get_photos).and_return(resp_arr)
  end
  
  def mock_update_photo params = {}
    resp_arr = build_resp_mock_array "200", "OK", 
      "<?xml version='1.0' encoding='UTF-8'?><entry xmlns='http://www.w3.org/2005/Atom' xmlns:exif='http://schemas.google.com/photos/exif/2007' xmlns:gphoto='http://schemas.google.com/photos/2007' xmlns:media='http://search.yahoo.com/mrss/'><id>http://picasaweb.google.com/data/entry/api/user/bandmanagertest/albumid/5526116602627358369/photoid/5526116634788894258</id><published>2010-10-09T18:34:52.000Z</published><updated>2010-10-09T18:34:52.144Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/photos/2007#photo'/><title type='text'>photo.jpg</title><summary type='text'>Photo summary updated</summary><content type='image/jpeg' src='http://lh5.ggpht.com/_Eo7DPaDqPZg/TLC1zPv4FjI/AAAAAAAABPI/pHeMtRZlR38/photo.jpg'/><link rel='http://schemas.google.com/g/2005#feed' type='application/atom+xml' href='http://picasaweb.google.com/data/feed/api/user/bandmanagertest/albumid/5526116602627358369/photoid/5526116634788894258'/><link rel='alternate' type='text/html' href='http://picasaweb.google.com/bandmanagertest/TestingTitle#5526116634788894258'/><link rel='http://schemas.google.com/photos/2007#canonical' type='text/html' href='http://picasaweb.google.com/lh/photo/RQzOtdWIzuC4uSDK8LaGqg'/><link rel='self' type='application/atom+xml' href='http://picasaweb.google.com/data/entry/api/user/bandmanagertest/albumid/5526116602627358369/photoid/5526116634788894258'/><link rel='edit' type='application/atom+xml' href='http://picasaweb.google.com/data/entry/api/user/bandmanagertest/albumid/5526116602627358369/photoid/5526116634788894258/1'/><link rel='edit-media' type='image/jpeg' href='http://picasaweb.google.com/data/media/api/user/bandmanagertest/albumid/5526116602627358369/photoid/5526116634788894258/1'/><link rel='media-edit' type='image/jpeg' href='http://picasaweb.google.com/data/media/api/user/bandmanagertest/albumid/5526116602627358369/photoid/5526116634788894258/1'/><link rel='http://schemas.google.com/photos/2007#report' type='text/html' href='http://picasaweb.google.com/lh/reportAbuse?uname=bandmanagertest&amp;aid=5526116602627358369&amp;iid=5526116634788894258'/><gphoto:id>5526116634788894258</gphoto:id><gphoto:version>1</gphoto:version><gphoto:albumid>5526116602627358369</gphoto:albumid><gphoto:access>public</gphoto:access><gphoto:width>1181</gphoto:width><gphoto:height>1181</gphoto:height><gphoto:size>478571</gphoto:size><gphoto:client/><gphoto:checksum/><gphoto:timestamp>1286649292000</gphoto:timestamp><gphoto:imageVersion>1266</gphoto:imageVersion><gphoto:commentingEnabled>true</gphoto:commentingEnabled><gphoto:commentCount>0</gphoto:commentCount><gphoto:license id='0' name='Todos os direitos reservados' url=''>ALL_RIGHTS_RESERVED</gphoto:license><exif:tags><exif:imageUniqueID>6399838eaf33d21d08f4ce94187b653e</exif:imageUniqueID></exif:tags><media:group><media:content url='http://lh5.ggpht.com/_Eo7DPaDqPZg/TLC1zPv4FjI/AAAAAAAABPI/pHeMtRZlR38/photo.jpg' height='1181' width='1181' type='image/jpeg' medium='image'/><media:credit>BandManager Test</media:credit><media:description type='plain'>#{params[:description]}</media:description><media:keywords/><media:thumbnail url='http://lh5.ggpht.com/_Eo7DPaDqPZg/TLC1zPv4FjI/AAAAAAAABPI/pHeMtRZlR38/s72/photo.jpg' height='72' width='72'/><media:thumbnail url='http://lh5.ggpht.com/_Eo7DPaDqPZg/TLC1zPv4FjI/AAAAAAAABPI/pHeMtRZlR38/s144/photo.jpg' height='144' width='144'/><media:thumbnail url='http://lh5.ggpht.com/_Eo7DPaDqPZg/TLC1zPv4FjI/AAAAAAAABPI/pHeMtRZlR38/s288/photo.jpg' height='288' width='288'/><media:title type='plain'>photo.jpg</media:title></media:group></entry>"
    
    Picasa::HTTP::Photo.stub!(:update_photo).and_return(resp_arr)
  end
  
  def mock_delete_photo
    resp_arr = build_resp_mock_array "200", "OK", ""  
    Picasa::HTTP::Photo.stub!(:delete_photo).and_return(resp_arr)
  end
  
  def mock_post_photo_failure
    resp_arr = build_resp_mock_array "404", "NotFound", ""  
    Picasa::HTTP::Photo.stub!(:post_photo).and_return(resp_arr)
  end
  
  def mock_download_image
    file = File.open File.dirname(__FILE__)+"/fixture/photo.jpg"
    Picasa::HTTP::Photo.stub!(:download_image).and_return(file)
  end
  
  private 
  
  def build_resp_mock_array code, message, data, success = true
    resp_mock = mock()
    resp_mock.stub!(:code).and_return(code)
    resp_mock.stub!(:message).and_return(message)
    resp_mock.stub!(:success?).and_return(success)
        
    resp_arr = [resp_mock, data]
  end
end
